{"version":3,"sources":["../src/stackview.js"],"names":["define","$","copyToClipboard","containerid","window","getSelection","empty","removeAllRanges","document","selection","range","body","createTextRange","moveToElementText","getElementById","select","execCommand","createRange","selectNode","addRange","alert","loadSlick","ready","slider","slick","vertical","slidesToShow","slidesToScroll","autoplay","dots","speed","arrows","swipeToSlide","customPaging","i","on","e","preventDefault","$el","type","originalEvent","deltaY","addClass","removeClass","init","console","log"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript for needed to load the stackviewer\n *\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n * @package   mod_stackview\n * @copyright 09/05/2021 Mfreak.nl | LdesignMedia.nl - Luuk Verhoeven\n * @author    Luuk Verhoeven\n **/\n\ndefine(['jquery', '//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js'], function($) {\n\n    'use strict';\n\n    /**\n     *\n     * @param {string} containerid\n     */\n    let copyToClipboard = function(containerid) {\n\n        if (window.getSelection) {\n            if (window.getSelection().empty) { // Chrome\n                window.getSelection().empty();\n            } else if (window.getSelection().removeAllRanges) { // Firefox\n                window.getSelection().removeAllRanges();\n            }\n        } else if (document.selection) { // IE?\n            document.selection.empty();\n        }\n\n        if (document.selection) {\n            let range = document.body.createTextRange();\n            range.moveToElementText(document.getElementById(containerid));\n            range.select().createTextRange();\n            document.execCommand(\"copy\");\n        } else if (window.getSelection) {\n            let range = document.createRange();\n            range.selectNode(document.getElementById(containerid));\n            window.getSelection().addRange(range);\n            document.execCommand(\"copy\");\n        }\n\n        alert(\"Copied to clipboard\");\n    };\n\n    let loadSlick = function() {\n        $(document).ready(function() {\n\n            let slider = $('.slick-slider').slick({\n                vertical: true,\n                slidesToShow: 1,\n                slidesToScroll: 1,\n                autoplay: false,\n                dots: true,\n                speed: 1,\n                arrows: false,\n                swipeToSlide: false,\n                customPaging: function(slider, i) {\n                    return (++i);\n                },\n            });\n\n            slider.on('wheel click', (function(e) {\n                e.preventDefault();\n                let $el = $(this);\n\n                if(e.type === 'click'){\n                    $el.slick('slickNext');\n                    return;\n                }\n\n                if (e.originalEvent.deltaY > 0) {\n                    $el.slick('slickNext');\n                } else {\n                    $el.slick('slickPrev');\n                }\n\n            })).on(\"beforeChange\", function() {\n                $(\".slick-list\").addClass(\"do-tans\");\n            }).on(\"afterChange\", function() {\n                $(\".slick-list\").removeClass(\"do-tans\");\n            });\n\n            $('.stackviewer-embedcode').on('click', function() {\n                copyToClipboard(\"stack-code\");\n            });\n        });\n    };\n\n    return {\n        init: function() {\n            // eslint-disable-next-line\n            console.log('Load Stackviewer v3.9.2 (based on slick.js)');\n            loadSlick();\n        }\n    };\n});"],"file":"stackview.min.js"}